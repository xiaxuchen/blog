---
title: "单调栈"
date: 2024-02-15T20:18:55+08:00
draft: true
---
# 单调栈
什么是单调栈，即数据呈单调压入栈，如果数据不能单调，那么就弹出，这样就能得到凹槽或者凸起，即大小大，小大小这样的结构。

# 42. 接雨水

[力扣题目链接](https://leetcode.cn/problems/trapping-rain-water/description/)

## 思考

我觉得这道题最难得点在于如何算面积，以及如何算一列的面积。

对于任何一列，其雨水的高度会是他两边最高的两根柱子高度的最小值，这个应该能够理解，主要不好想到，既然知道这个，就很好算一列雨水的面积了，一列宽度是 1，而高度是最高高度 - 当前柱子高度即可。

而要算最左边的最高柱子，只需要进行遍历，记录当前最高值，然后用当前值与其对比即可，而右边的最高值同理。

## 单调栈解法
如果是单调栈的话，则是以行求解面积。单调栈通过从小到大(栈顶到栈底)，因此能得到|_|(大小大)这种凹槽，计算这个凹槽的面积即可求得这几列这一行的接水量。计算完这个凹槽之后，仍会循环去不断拿出左边低的凹槽，直到当前柱子为最小值，这样就形成不了凹槽了。原来的凹槽也因当前柱子的加入磨平。

#  84.柱状图中最大的矩形
## 问题
不知道这个题目的面积怎么算，其实是数学问题。

该题的面积问题，对于整个问题而言的，而不是对于当前元素。即当前列左右两边比自己小的柱子，这之间的组出来的面积，不一定是包含当前柱子的最大面积。

这题目的解其实是，假设当前柱子是整块区域中最短的那根，求面积。

