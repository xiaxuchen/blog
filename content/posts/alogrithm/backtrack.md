---
title: "回溯法"
date: 2024-03-09T16:56:42+08:00
draft: true
---

# 40.组合总和II

力扣题目链接

(opens new window)

给定一个数组 candidates 和一个目标数 target ，找出 candidates 中所有可以使数字和为 target 的组合。

candidates 中的每个数字在每个组合中只能使用一次。

说明： 所有数字（包括目标数）都是正整数。解集不能包含重复的组合。

    示例 1:
    输入: candidates = [10,1,2,7,6,1,5], target = 8,
    所求解集为:

[
  [1, 7],
  [1, 2, 5],
  [2, 6],
  [1, 1, 6]
]

    示例 2:
    输入: candidates = [2,5,2,1,2], target = 5,
    所求解集为:

[
  [1,2,2],
  [5]
]

## 思考
这里，要求无重复的组合，因此需要进行去重，而回溯法时间复杂度非常高，排序是的时间复杂度相对低，通过排序使得数据有序即可根据前后元素(nums[i] == nums[i - 1])是否一样进行排除。

原题目通过used数组进行标识，标识的是前面的元素是在上一层使用过还是当前层使用过。如果是上一层使用过，那么就可以将当前元素加入，但是如果是同一层使用，那说明同一层的其他地方会加入一次这个元素，而当前仍然会加入这个元素，因此会重复。因此通过used[i - 1] = false能够知道当前这一层使用。

但是另一个思路其实可以是，从当前起始的下一个元素开始往前对比，因为当前层开始的元素到当前元素都是当前层使用的数字，因此可以去重。

used[i - 1] = false与true的不同点，在于false用于判定前面的元素是没有被前一层使用的，那一定是当前层使用了，而且false是默认值，因此可以去重，所有相同的连续元素只会取一次。而等于true意味着，上一层使用了前面这个，这个用于保证同一个序列不会多次使用。